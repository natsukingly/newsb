#mobile_locale_ddm.ddm
	.mobile_locale_ddm_wrapper
		.country
			-Country.all.each do |country|
				=link_to country.name, change_country_path(country.id), class: "country_link_#{country.id}", method: :post
	
		.language
			-Language.all.each do |language|
				=link_to language.name, change_language_path(language.id), class: "language_link_#{language.id}", method: :post
		
		.close_ddm_btn
			=render 'svg/close_icon'
			
:javascript
	$('.country').find(".country_link_" + #{@country.id}).addClass("selected");
	$('.language').find(".language_link_" + #{@language.id}).addClass("selected");
	
	$('#mobile_locale_link').click(function () {
		$(".ddm").hide();
		$('#mobile_locale_ddm').css("display", "block");
		$('body').addClass('fixed');
		return false;
	});

	$('body').click(function (event) {
		if(!$(event.target).closest('.mobile_locale_ddm_wrapper').length && !$(event.target).is('.mobile_locale_ddm_wrapper')) {
			$("#mobile_locale_ddm").hide();
			$('body').removeClass('fixed');
		}     
	});
	
	$('.close_ddm_btn').click(function (event) {
		$('#mobile_locale_ddm').hide();
		$('body').removeClass('fixed');
	});
