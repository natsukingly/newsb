-content_for(:profile) do
	"Do show"
-content_for(:sidebar) do
	"Don't show"

.sub_function_wrapper.user_profile
	.sub_function_user_sidebar.profile_menu
		%h2.profile_title
			PROFILE
		=link_to user_path(@user), class: "profile_menu_btn" do
			#{@user.posts.count} posts
		=link_to followers_user_path(@user.id), class: "profile_menu_btn active" do
			#{@user.followers.count} follower
		=link_to following_user_path(@user.id), class: "profile_menu_btn" do
			#{@user.following.count} following
			
	.sub_function_main_section
		#main_contents.profile_contents
			%h2.profile_title
			
			-if @user.followers.empty?
				.result_not_found
					%h4.not_found_content
						=t('not_found.user_followers')

			-else
				.user_lists
					= render @users
					-if @users.count < 30
						.scroll_btn.stop_loading
							NO MORE NOTIFICATIONS	
					-else
						.scroll_btn.load_followers
							LOAD MORE


:javascript
	$(".profile_btn").removeClass("active");
	$(".profile_btn.middle_right").addClass("active");

	$('.scroll_btn.load_followers').click(function(){
		var stop_loading = $(this).hasClass('stop_loading');
		if(!(stop_loading)){
			$.ajax({
				url: "#{load_followers_path}",
				type: "GET",
				data: {existing_users: $('#main_contents').find('.user').length,
				user_id: "#{@user.id}"
				},
				dataType: 'script',
			})
			$(this).html("<i class='fa fa-spinner fa-pulse'></i>")
			$(this).addClass("loading");
		}
	})

